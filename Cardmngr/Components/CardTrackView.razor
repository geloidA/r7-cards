
<ul class="@CardTrack.CssName @CssDragOver" @ondrop="Drop" 
    @ondragover:preventDefault @ondragenter:preventDefault
    @ondragover="@(() => { if (!highlighted) highlighted = true; })"
    @ondragleave="() => highlighted = false" >

    @foreach (var card in CardTrack)
    {
        <CardView Card="card" @key="card" />
    }
</ul>

@code {

    [CascadingParameter]
    private CardBase? LastDraggingCard { get; set; } 

    [CascadingParameter]
    private IBoardViewModel Board { get; set; } = null!;
    string CssDragOver => highlighted ? "dragover" : "";
    bool highlighted;
    [Parameter] public ICardTrack CardTrack { get; set; } = null!;

    void Drop()
    {
        if (LastDraggingCard is { })
        {
            Console.WriteLine("Dropped in" + CardTrack.Title);
            CardTrack.AddLast(LastDraggingCard);
            Board.OnLayoutChanged();
        }
        highlighted = false;
    }
}
