
<Card>
    <CardBody >
        <CardTitle>
            <div class="d-flex align-items-center">
                Описание
            </div>
        </CardTitle>
        <div class="d-flex flex-column">
            @if (descriptionEditMode)
            {
                <InputTextArea @bind-Value="Task.Description"
                    style="height: 100%; resize:none; min-height:150px;" />
            }
            else
            {
                @if (string.IsNullOrEmpty(Task.Description))
                {
                    <span class="text-secondary">Описание пусто</span>
                }
                else
                {
                    @Task.Description
                }
            }
        </div>                        
    </CardBody>
    <CardFooter class="d-flex justify-content-end">
        <Tool Disabled="Disabled" IconName="@(descriptionEditMode ? IconName.PencilFill : IconName.Pencil)" 
            OnClick="() => descriptionEditMode = !descriptionEditMode"
            TooltipTitle="@(descriptionEditMode ? "Прекратить" : "Изменить")"/>
    </CardFooter>
</Card>

@code {
    private bool descriptionEditMode;
    [Parameter] public Onlyoffice.Api.Models.Task Task { get; set; } = null!;
    [Parameter] public bool Disabled { get; set; }
}
