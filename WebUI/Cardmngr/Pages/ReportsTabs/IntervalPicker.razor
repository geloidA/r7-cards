@inherits KolComponentBase

<div class="@Class flex flex-col gap-1" style="@Style">
    @if(Label is { })
    {
        <span>@Label</span>
    }
    <div class="flex gap-1">
        <FluentDatePicker Disabled="Disabled" style="width: 125px;" DisabledDateFunc="DisableAfter"
            Appearance="FluentInputAppearance.Filled"
            Placeholder="—" Value="Start" ValueChanged="StartChanged" />
        <FluentDatePicker Disabled="Disabled" style="width: 125px;" DisabledDateFunc="DisableBefore"
            Appearance="FluentInputAppearance.Filled"
            Placeholder="—" Value="End" ValueChanged="EndChanged" />
    </div>
</div>

@code {

    [Parameter] public string? Label { get; set; }

    [Parameter] public bool Disabled { get; set; }
    
    [Parameter] public DateTime? Start { get; set; }
    [Parameter] public EventCallback<DateTime?> StartChanged { get; set; }

    [Parameter] public DateTime? End { get; set; }
    [Parameter] public EventCallback<DateTime?> EndChanged { get; set; }

    bool DisableBefore(DateTime date) => date < Start;
    bool DisableAfter(DateTime date) => date > End;
}
